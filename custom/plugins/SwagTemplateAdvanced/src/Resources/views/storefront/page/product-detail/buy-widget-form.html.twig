{% sw_extends '@Storefront/storefront/page/product-detail/buy-widget-form.html.twig' %}

{% block page_product_detail_buy_quantity %}

    <div class="product-detail-quantity-input input-group input-group-lg" 
        data-quantity-field="true"
        data-quantity-field-options='{{ {
            "purchaseSteps": page.product.purchaseSteps,
            "maxQuantity": page.product.calculatedMaxPurchase
        }|json_encode }}'>
        <div class="input-group-prepend">
            <button class="btn btn-outline-secondary decrease" type="button" id="button-minus">-</button>
        </div>

        <input type="number" class="form-control form-control-lg" 
            id="quantity" 
            title="Quantity for {{ page.product.translated.name }}"
            name="lineItems[{{ page.product.id }}][quantity]" 
            value="{{ page.product.minPurchase }}" 
            min="{{ page.product.minPurchase }}"
            max="{{ page.product.calculatedMaxPurchase }}"
            step="{{ page.product.purchaseSteps }}"
            aria-label="{{ 'general.quantityLabel'|trans|striptags }}" 
            >

        <div class="input-group-append">
            <button class="btn btn-outline-secondary increase" type="button" id="button-plus">+</button>
        </div>
    </div>
    {# <pre>
purchaseSteps: {{ page.product.purchaseSteps }}
maxQuantity: {{ page.product.calculatedMaxPurchase }}
minPurchase: {{ page.product.minPurchase }}
    </pre> #}
{% endblock %}