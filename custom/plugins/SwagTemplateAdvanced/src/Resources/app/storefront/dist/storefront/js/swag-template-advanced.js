(window.webpackJsonp=window.webpackJsonp||[]).push([["swag-template-advanced"],{FHOq:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var i=n("FGIj"),r=n("Cxgn"),o=n("ERap"),u=n("gHbT"),a=n("2Y4b");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y,d,b,v=function(t){function e(){return c(this,e),f(this,p(e).apply(this,arguments))}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),n=e,(i=[{key:"init",value:function(){if(this._getForm(),!this._form)throw new Error("No form found for the plugin: ".concat(this.constructor.name));this._prepareFormRedirect(),this._registerEvents()}},{key:"_prepareFormRedirect",value:function(){try{var t=u.a.querySelector(this._form,this.options.redirectSelector),e=u.a.querySelector(this._form,this.options.redirectParamSelector);t.value=this.options.redirectTo,e.disabled=!0}catch(t){}}},{key:"_getForm",value:function(){this.el&&"FORM"===this.el.nodeName?this._form=this.el:this._form=this.el.closest("form")}},{key:"_registerEvents",value:function(){this.el.addEventListener("submit",this._formSubmit.bind(this))}},{key:"_formSubmit",value:function(t){t.preventDefault();var e=u.a.getAttribute(this._form,"action"),n=a.a.serialize(this._form);this.$emitter.publish("beforeFormSubmit",n),this._openOffCanvasCarts(e,n)}},{key:"_openOffCanvasCarts",value:function(t,e){var n=this,i=r.a.getPluginInstances("OffCanvasCart");o.a.iterate(i,(function(i){return n._openOffCanvasCart(i,t,e)}))}},{key:"_openOffCanvasCart",value:function(t,e,n){var i=this;t.openOffCanvas(e,n,(function(){i.$emitter.publish("openOffCanvasCart")}))}}])&&l(n.prototype,i),s&&l(n,s),e}(i.a);b={redirectSelector:'[name="redirectTo"]',redirectParamSelector:'[data-redirect-parameters="true"]',redirectTo:"frontend.cart.offcanvas"},(d="options")in(y=v)?Object.defineProperty(y,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[d]=b},Nubz:function(t,e,n){"use strict";n.r(e);var i=n("FHOq"),r=n("gHbT"),o=n("k8s9");function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(){return a(this,e),c(this,f(e).apply(this,arguments))}var n,i,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,t),n=e,(i=[{key:"init",value:function(){var t=this;this._client=new o.a(window.accessKey,window.contextToken),this.cartEl=r.a.querySelector(document,".header-cart"),this.PluginManager=window.PluginManager,l(f(e.prototype),"init",this).call(this),r.a.querySelector(this.el,".btn-buy").addEventListener("click",(function(){var e=t.el.querySelector('input[name="product-name"]'),n=e?e.value.trim():"Unknown Product";console.info('Rumble Button for "'.concat(n,"\" clicked! Let's add some rumble to the shopping experience!"))}))}},{key:"_openOffCanvasCart",value:function(t,e,n){this._client.post(e,n,this._afterAddToCart.bind(this))}},{key:"_afterAddToCart",value:function(){this._refreshCartValue(),this._rumbleButton()}},{key:"_refreshCartValue",value:function(){var t=r.a.querySelector(this.cartEl,"[data-cart-widget]");this.PluginManager.getPluginInstanceFromElement(t,"CartWidget").fetch()}},{key:"_rumbleButton",value:function(){var t=this;this.cartEl.classList.add("rumble"),window.setTimeout((function(){t.cartEl.classList.remove("rumble")}),1e3)}}])&&s(n.prototype,i),u&&s(n,u),e}(i.a),y=n("FGIj");function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=function(t){function e(){return b(this,e),m(this,g(e).apply(this,arguments))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,t),n=e,(i=[{key:"init",value:function(){this.minusButton=r.a.querySelector(this.el,".decrease"),this.plusButton=r.a.querySelector(this.el,".increase"),this.inputField=r.a.querySelector(this.el,'input[type="number"]'),this.minPurchase=parseInt(this.inputField.getAttribute("min"),10)||1,this.maxPurchase=parseInt(this.inputField.getAttribute("max"),10)||null,this.purchaseSteps=parseInt(this.inputField.getAttribute("step"),10)||1,this._registerEvents()}},{key:"_registerEvents",value:function(){var t=this;this.minusButton&&this.minusButton.addEventListener("click",(function(){t._decreaseQuantity()})),this.plusButton&&this.plusButton.addEventListener("click",(function(){t._increaseQuantity()})),this.inputField&&this.inputField.addEventListener("input",(function(){t._validateQuantity()}))}},{key:"_decreaseQuantity",value:function(){var t=(parseInt(this.inputField.value,10)||this.minPurchase)-parseInt(this.options.purchaseSteps,10);t>=this.minPurchase&&(this.inputField.value=t)}},{key:"_increaseQuantity",value:function(){var t=(parseInt(this.inputField.value,10)||this.minPurchase)+parseInt(this.options.purchaseSteps,10);(null===this.maxPurchase||t<=this.maxPurchase)&&(this.inputField.value=t)}},{key:"_validateQuantity",value:function(){var t=parseInt(this.inputField.value,10);t<this.minPurchase?this.inputField.value=this.minPurchase:null!==this.maxPurchase&&t>this.maxPurchase&&(this.inputField.value=this.maxPurchase)}}])&&v(n.prototype,i),o&&v(n,o),e}(y.a),P=n("nnsc");function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function E(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var F,T,L,x=function(t){function e(){return S(this,e),E(this,C(e).apply(this,arguments))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(e,t),n=e,(i=[{key:"init",value:function(){this.PluginManager=window.PluginManager,this.subscribeViewportEvents(),this.pluginShouldBeActive()&&this.initializePlugin()}},{key:"subscribeViewportEvents",value:function(){document.$emitter.subscribe("Viewport/hasChanged",this.update,{scope:this})}},{key:"update",value:function(){if(console.info("Viewport/hasChanged detected"),this.pluginShouldBeActive()){if(this.initialized)return;this.initializePlugin()}else{if(!this.initialized)return;this.destroy()}}},{key:"initializePlugin",value:function(){this.createElement(),this.addEventListeners(),this.reinitializePlugin(),console.info("StickyHeader initialized"),this.initialized=!0}},{key:"destroy",value:function(){this._navClone.remove(),this.removeEventListeners(),console.info("StickyHeader destroyed"),this.initialized=!1}},{key:"pluginShouldBeActive",value:function(){return!["XS","SM","MD"].includes(P.a.getCurrentViewport())}},{key:"createElement",value:function(){this._navClone=this.el.cloneNode(!0),this._navClone.classList.add(this.options.cloneElClass),r.a.querySelector(this._navClone,"#mainNavigation",!1).removeAttribute("id"),document.body.appendChild(this._navClone)}},{key:"addEventListeners",value:function(){document.addEventListener("scroll",this.onScroll.bind(this))}},{key:"removeEventListeners",value:function(){document.removeEventListener("scroll",this.onScroll.bind(this))}},{key:"onScroll",value:function(){document.documentElement.scrollTop>this.options.scrollTriggerPosition?this._navClone.classList.add("is--active"):this._navClone.classList.remove("is--active")}},{key:"reinitializePlugin",value:function(){this.PluginManager.initializePlugin("FlyoutMenu",'[data-flyout-menu="true"]',{})}}])&&k(n.prototype,i),o&&k(n,o),e}(y.a);L={cloneElClass:"js-header-main-sticky",scrollTriggerPosition:200},(T="options")in(F=x)?Object.defineProperty(F,T,{value:L,enumerable:!0,configurable:!0,writable:!0}):F[T]=L,window.PluginManager.override("AddToCart",h,"[data-add-to-cart]"),window.PluginManager.register("QuantityField",w,"[data-quantity-field]"),console.info("SwagTemplateAdvanced plugin loaded..."),window.PluginManager.register("StickyHeader",x,'[data-sticky-header="true"]',{scrollTriggerPosition:400})}},[["Nubz","runtime","vendor-node","vendor-shared"]]]);